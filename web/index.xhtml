<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
    <h:head>
        <title>Tester</title>
        <script>
            if (navigator.geolocation) {
                var timeoutVal = 10 * 1000 * 1000;
                navigator.geolocation.getCurrentPosition(
                        displayPosition,
                        displayError,
                        {enableHighAccuracy: true, timeout: timeoutVal, maximumAge: 0}
                );
            } else {
                alert("Geolocation is not supported by this browser");
            }
            function displayPosition(position) {
                var x = position.coords.longitude;
                var y = position.coords.latitude;

                document.getElementById("j_idt7:geoLongitude").value = x;
                document.getElementById("j_idt7:geoLatitude").value = y;

            }
            function displayError(error) {
                var errors = {
                    1: 'Permission denied',
                    2: 'Position unavailable',
                    3: 'Request timeout'
                };
                alert("Error: " + errors[error.code]);
            }
        </script>
    </h:head>
    <h:body>
        <h2>Operaciones Servicio</h2>
        <h:form>
            <h:commandButton value="findAllEventoValidadosYNoCaducados" action="#{sessionBean.findEventosNoCaducadosYValidados()}"/><br/>
            <h:commandButton value="findAllEventoNoValidados" action="#{sessionBean.findEvetnosNoValidados()}"/><br/>
            <h:commandButton value="findEventosOrdenadosPorDistancia" action="#{sessionBean.findEventosOrdenadosPorDistancia()}"/><br/>
            <h:inputHidden id="geoLatitude" value="#{sessionBean.latitud}"/>
            <h:inputHidden id="geoLongitude" value="#{sessionBean.longitud}" />
            <h:commandButton value="findEventosByTags" action="#{sessionBean.findEventosByTag()}"/><br/>
            <h:commandButton value="findEvento" action="#{sessionBean.findEvento()}"/><br/>
            Nombre evento: #{sessionBean.evento.nombre}<br/>
            <h:commandButton value="findTagsEvento" action="#{sessionBean.findTagsEvento()}"/><br/>
            <h:commandButton value="findTagsUsuario" action="#{sessionBean.findTagsUsuario()}"/><br/>
            <h:commandButton value="findAllTags" action="#{sessionBean.findAllTags()}"/><br/>
            <h:commandButton value="findUsuario" action="#{sessionBean.findUsuario()}"/><br/>
            Nombre usuario: #{sessionBean.usuario.nombre}<br/>
            <h:commandButton value="findTag" action="#{sessionBean.findTag()}"/><br/>
            Nombre tag Sport: #{sessionBean.tag.nombre}<br/>
            <h:commandButton value="findComentariosEvento" action="#{sessionBean.findComentariosEvento()}"/><br/>
            <h:commandButton value="existeMeGusta" action="#{sessionBean.existeMeGusta()}"/><br/>
            Existe me gusta en evento 1: #{sessionBean.meGusta}<br/> 
            <h:commandButton value="createEvento" action="#{sessionBean.createEvento()}"/><br/>
            <h:commandButton value="editEvento" action="#{sessionBean.editEvento()}"/><br/>
            <h:commandButton value="asignarTagsAEvento" action="#{sessionBean.asignarTagsAEvento()}"/><br/>
            <h:commandButton value="removeEvento" action="#{sessionBean.removeEvento()}"/><br/>
            <h:commandButton value="asignarTagsAUsuario" action="#{sessionBean.asignarTagsAUsuario()}"/><br/>
            <h:commandButton value="darMeGusta" action="#{sessionBean.darMeGusta()}"/><br/>
            <h:commandButton value="validarEvento" action="#{sessionBean.validarEvento()}"/><br/>
            <h:commandButton value="createComentario" action="#{sessionBean.createComentario()}"/><br/>
            <h:commandButton value="sendEmail" action="#{sessionBean.sendEmail()}"/><br/>
        </h:form>
    </h:body>
</html>

